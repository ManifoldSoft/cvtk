## 图像感知哈希值

感知哈希比均值哈希要稳健，PHash使用DCT将图像由空域转为频域，并对频域的低频成分进行散列化。PHash算法可分为以下几个步骤：


- 将图片resize到32\*32最好，这样可以简化DCT计算；
- 将彩色图像转为灰度图像；
- 计算DCT，使用32\*32的DCT变换；
- DCT的结果是32\*32的矩阵，只要保留左上角的8*8矩阵就可以了，因为这部分呈现了图片中的最低频率；
- 计算DCT的平均值；
- 根据8\*8的DCT矩阵来与平均值进行比较，大于平均值的为1，小于的为0。

**注意**：在保留左上角的8*8矩阵的时候，不一定非得是最左上角，可以往右下移一个或几个像素。下面是采用PHash做拷贝检索结果：

![](http://yongyuan.name/imgs/posts/okcase_phash.png)

可以看到，对于上面查询，PHash能够获得很好的拷贝检索准确率，但是PHash除了上面图表所示的对椒盐噪声、旋转几乎不具有抗干扰特性外，还有一些其他方面的局限，具体在PHash特征里进行了总结。

更多关于感知哈希的介绍与改进方案，请移步[拷贝检索PHash改进方案](https://yongyuan.name/blog/improve-phash-for-copy-detection.html)。
